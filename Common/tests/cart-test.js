CartTest=TestCase("CartTest"),CartTest.prototype.testCartInit=function(){window.localStorage.setItem("fbCart",void 0);var t=1e7*Math.random(),a=1e7*Math.random(),e=new Cart(t,a);assertEquals({},e.currentCartStore);var s=0;e.on("change",function(){s++});var r=100,n=101,d=e.addItem(r,1,{}),u=e.addItem(r,1,{}),C=e.addItem(n,1,{});assertEquals(d,u),assertEquals(r,e.getCart(a)[d].itemID),assertEquals(2,e.getCart(a)[d].qty),assertEquals(n,e.getCart(a)[C].itemID),assertEquals(1,e.getCart(a)[C].qty),e.changeQuantity(d,10),assertEquals(10,e.getCart(a)[d].qty),e.changeQuantity(u,0),assertEquals(0,e.getCart(a)[d].qty),e.delItem(d),assertUndefined(e.getCart(a)[d]),e.delItem(C),assertUndefined(e.getCart(a)[C]),d=e.addItem(r,10,{}),u=e.addItem(n,100,{}),assertEquals(10,e.getItemQuantity(r)),assertEquals(100,e.getItemQuantity(n)),assertEquals(9,s)};